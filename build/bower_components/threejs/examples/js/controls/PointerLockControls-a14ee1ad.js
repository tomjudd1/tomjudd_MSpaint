THREE.PointerLockControls=function(t){var e=this;t.rotation.set(0,0,0);var n=new THREE.Object3D;n.add(t);var o=new THREE.Object3D;o.position.y=10,o.add(n);var i=Math.PI/2,r=function(t){if(e.enabled!==!1){var r=t.movementX||t.mozMovementX||t.webkitMovementX||0,a=t.movementY||t.mozMovementY||t.webkitMovementY||0;o.rotation.y-=.002*r,n.rotation.x-=.002*a,n.rotation.x=Math.max(-i,Math.min(i,n.rotation.x))}};document.addEventListener("mousemove",r,!1),this.enabled=!1,this.getObject=function(){return o},this.getDirection=function(){var t=new THREE.Vector3(0,0,-1),e=new THREE.Euler(0,0,0,"YXZ");return function(i){return e.set(n.rotation.x,o.rotation.y,0),i.copy(t).applyEuler(e),i}}()};