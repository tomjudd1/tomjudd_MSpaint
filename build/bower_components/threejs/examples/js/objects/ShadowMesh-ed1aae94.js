THREE.ShadowMesh=function(t){var a=new THREE.MeshBasicMaterial({color:0,transparent:!0,opacity:.6,depthWrite:!1});THREE.Mesh.call(this,t.geometry,a),this.meshMatrix=t.matrixWorld,this.frustumCulled=!1,this.matrixAutoUpdate=!1},THREE.ShadowMesh.prototype=Object.create(THREE.Mesh.prototype),THREE.ShadowMesh.prototype.constructor=THREE.ShadowMesh,THREE.ShadowMesh.prototype.update=function(){var t=new THREE.Matrix4;return function(a,o){var r=a.normal.x*o.x+a.normal.y*o.y+a.normal.z*o.z+-a.constant*o.w,n=t.elements;n[0]=r-o.x*a.normal.x,n[4]=-o.x*a.normal.y,n[8]=-o.x*a.normal.z,n[12]=-o.x*-a.constant,n[1]=-o.y*a.normal.x,n[5]=r-o.y*a.normal.y,n[9]=-o.y*a.normal.z,n[13]=-o.y*-a.constant,n[2]=-o.z*a.normal.x,n[6]=-o.z*a.normal.y,n[10]=r-o.z*a.normal.z,n[14]=-o.z*-a.constant,n[3]=-o.w*a.normal.x,n[7]=-o.w*a.normal.y,n[11]=-o.w*a.normal.z,n[15]=r-o.w*-a.constant,this.matrix.multiplyMatrices(t,this.meshMatrix)}}();